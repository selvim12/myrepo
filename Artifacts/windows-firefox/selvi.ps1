
$LocalTempDir = $env:TEMP; $firefoxInstaller = "firefoxInstaller.exe"; (new-object    System.Net.WebClient).DownloadFile('http://download-installer.cdn.mozilla.net/pub/firefox/releases/48.0/win32/en-US/Firefox Setup 48.0.exe', "$LocalTempDir\$firefoxInstaller"); & "$LocalTempDir\$firefoxInstaller" /silent /install; $Process2Monitor =  "firefoxInstaller"; Do { $ProcessesFound = Get-Process | ?{$Process2Monitor -contains $_.Name} | Select-Object -ExpandProperty Name; If ($ProcessesFound) { "Still running: $($ProcessesFound -join ', ')" | Write-Host; Start-Sleep -Seconds 2 } else { rm "$LocalTempDir\$firefoxInstaller" -ErrorAction SilentlyContinue -Verbose } } Until (!$ProcessesFound)
